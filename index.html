<!DOCTYPE html>
<html>
  <head>
    <title>NC Food Pantries</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #map {
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script src='data.json'></script>
    <script>
      var map;
      function initMap() {
        map = new google.maps.Map(document.getElementById('map'), {
          center: {lat: 36.0999, lng: -80.2442},
          zoom: 12
        });

        function drawMarker(pantry) {

          var marker = new google.maps.Marker({
              position    : new google.maps.LatLng(pantry.latitude, pantry.longitude),
              title       : pantry.name});

          marker.setMap(map);

          var info = new google.maps.InfoWindow({
            content: '<strong>' + pantry.name + '</strong><p>' +
                     '<div id="address">' + pantry.street + ', ' + pantry.city + ' ' + pantry.zip + '</div><p>' +
                     '<div id="hours">Hours:' +
                     '<ul>' +
                     '<li>Monday ' + pantry.monday + '</li>' +
                     '<li>Tuesday ' + pantry.tuesday + '</li>' +
                     '<li>Wednesday ' + pantry.wednesday + '</li>' +
                     '<li>Thursday ' + pantry.thursday + '</li>' +
                     '<li>Friday ' + pantry.friday + '</li>' +
                     '<li>Saturday ' + pantry.saturday + '</li>' +
                     '<li>Sunday ' + pantry.sunday + '</li>' +
                     '</ul>' +
                     '</div>' +
                     '<div id="phone">Phone: ' + pantry.phone + '</div>'
          });

          marker.addListener('click', function() {
            info.open(map, marker);
          });
        }

        pantries.map(drawMarker);

      }
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAbmlhLuyY1F4zMuEyLVZCGBJ2_5-ycN0I&callback=initMap"
    async defer></script>
  </body>
</html>